{"version":3,"sources":["status-bar.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","$","window","document","undefined","api","loadCSS","onloadCSS","loadJS","configureRaven","SorryRaven","Raven","noConflict","config","whitelistUrls","install","StatusNotice","parent","attributes","update","self","this","template","frag","buildFrag","prototype","dismiss","preventDefault","dismissed","id","Date","localStorage","setItem","JSON","stringify","$elem","remove","replace","content","link","display","prepend","find","bind","proxy","StatusBar","options","elem","SorryAPI","parse","getItem","init","fetchPage","statusBarFor","response","loadcss","set_style","brand","render","notices","$open_notices","grep","state","each","index","notice","hasOwnProperty","updates","reverse","created_at","notice_obj","css_template","background_color","color_header_background","text_color","color_header_text","link_color","color_header_links","state_warning_color","color_state_warning","compiled","append","callback","before","children","last","stylesheet","getpath","scripttag","src","split","slice","join","old","fn","statusBar","data","setup","pages","getAttribute","$statusBar","jQuery","./vendor/jquery.xdomainrequest","./vendor/loadCSS","./vendor/loadJS","./vendor/onloadCSS","./vendor/sorry","2","global","factory","define","amd","support","cors","ajaxTransport","XDomainRequest","httpRegEx","getOrPostRegEx","sameSchemeRegEx","RegExp","location","protocol","userOptions","jqXHR","crossDomain","async","test","type","url","xdr","send","headers","complete","postData","userType","dataType","toLowerCase","timeout","ontimeout","onload","allResponseHeaders","responseText","contentType","status","message","responses","text","html","json","parseJSON","doc","ActiveXObject","loadXML","documentElement","getElementsByTagName","xml","parseMessage","onprogress","onerror","param","open","abort","3","w","href","media","ready","cb","body","setTimeout","loadCB","ss","addEventListener","removeEventListener","ref","createElement","refs","childNodes","sheets","styleSheets","rel","parentNode","insertBefore","nextSibling","onloadcssdefined","resolvedHref","4","script","5","newcb","called","attachEvent","navigator","6","extend","DEFAULTS","SorryAPIOptions","host","version","endpoint_url","page_id","target_url","ajax","beforeSend","xhr","setRequestHeader","include","subscriber","success"],"mappings":"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","file":"status-bar.min.js"}